{"ast":null,"code":"var _jsxFileName = \"C:\\\\hello\\\\Doctor-appointmnet-system-mern-project-14-final-code\\\\client\\\\src\\\\pages\\\\admin\\\\Doctors.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"./../../components/Layout\";\nimport axios from \"axios\";\nimport { message, Table } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Doctors = () => {\n  _s();\n  const [doctors, setDoctors] = useState([]);\n  //getUsers\n  const getDoctors = async () => {\n    try {\n      const res = await axios.get(\"/api/v1/admin/getAllDoctors\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (res.data.success) {\n        setDoctors(res.data.data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // handle account\n  const handleAccountStatus = async (record, status) => {\n    try {\n      const res = await axios.post(\"/api/v1/admin/changeAccountStatus\", {\n        doctorId: record._id,\n        userId: record.userId,\n        status: status\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (res.data.success) {\n        message.success(res.data.message);\n        window.location.reload();\n      }\n    } catch (error) {\n      message.error(\"Something Went Wrong\");\n    }\n  };\n  useEffect(() => {\n    getDoctors();\n  }, []);\n  const columns = [{\n    title: \"Name\",\n    dataIndex: \"name\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [record.firstName, \" \", record.lastName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: \"Status\",\n    dataIndex: \"status\"\n  }, {\n    title: \"phone\",\n    dataIndex: \"phone\"\n  }, {\n    title: \"Actions\",\n    dataIndex: \"actions\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: record.status === \"pending\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => handleAccountStatus(record, \"approved\"),\n        children: \"Approve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center m-3\",\n      children: \"All Doctors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: doctors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(Doctors, \"kcw5qKDPTTui1RDpe6DT6D3WwHo=\");\n_c = Doctors;\nexport default Doctors;\nvar _c;\n$RefreshReg$(_c, \"Doctors\");","map":{"version":3,"names":["React","useState","useEffect","Layout","axios","message","Table","jsxDEV","_jsxDEV","Doctors","_s","doctors","setDoctors","getDoctors","res","get","headers","Authorization","localStorage","getItem","data","success","error","console","log","handleAccountStatus","record","status","post","doctorId","_id","userId","window","location","reload","columns","title","dataIndex","render","text","children","firstName","lastName","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","dataSource","_c","$RefreshReg$"],"sources":["C:/hello/Doctor-appointmnet-system-mern-project-14-final-code/client/src/pages/admin/Doctors.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"./../../components/Layout\";\nimport axios from \"axios\";\nimport { message, Table } from \"antd\";\n\nconst Doctors = () => {\n  const [doctors, setDoctors] = useState([]);\n  //getUsers\n  const getDoctors = async () => {\n    try {\n      const res = await axios.get(\"/api/v1/admin/getAllDoctors\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      if (res.data.success) {\n        setDoctors(res.data.data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // handle account\n  const handleAccountStatus = async (record, status) => {\n    try {\n      const res = await axios.post(\n        \"/api/v1/admin/changeAccountStatus\",\n        { doctorId: record._id, userId: record.userId, status: status },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n      if (res.data.success) {\n        message.success(res.data.message);\n        window.location.reload();\n      }\n    } catch (error) {\n      message.error(\"Something Went Wrong\");\n    }\n  };\n\n  useEffect(() => {\n    getDoctors();\n  }, []);\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      render: (text, record) => (\n        <span>\n          {record.firstName} {record.lastName}\n        </span>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n    },\n    {\n      title: \"phone\",\n      dataIndex: \"phone\",\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"actions\",\n      render: (text, record) => (\n        <div className=\"d-flex\">\n          {record.status === \"pending\" ? (\n            <button\n              className=\"btn btn-success\"\n              onClick={() => handleAccountStatus(record, \"approved\")}\n            >\n              Approve\n            </button>\n          ) : (\n            <button className=\"btn btn-danger\">Reject</button>\n          )}\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Layout>\n      <h1 className=\"text-center m-3\">All Doctors</h1>\n      <Table columns={columns} dataSource={doctors} />\n    </Layout>\n  );\n};\n\nexport default Doctors;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,2BAA2B;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,KAAK,QAAQ,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C;EACA,MAAMY,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,6BAA6B,EAAE;QACzDC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QACxD;MACF,CAAC,CAAC;MACF,IAAIL,GAAG,CAACM,IAAI,CAACC,OAAO,EAAE;QACpBT,UAAU,CAACE,GAAG,CAACM,IAAI,CAACA,IAAI,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;;EAED;EACA,MAAMG,mBAAmB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,MAAM,KAAK;IACpD,IAAI;MACF,MAAMb,GAAG,GAAG,MAAMV,KAAK,CAACwB,IAAI,CAC1B,mCAAmC,EACnC;QAAEC,QAAQ,EAAEH,MAAM,CAACI,GAAG;QAAEC,MAAM,EAAEL,MAAM,CAACK,MAAM;QAAEJ,MAAM,EAAEA;MAAO,CAAC,EAC/D;QACEX,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QACxD;MACF,CACF,CAAC;MACD,IAAIL,GAAG,CAACM,IAAI,CAACC,OAAO,EAAE;QACpBhB,OAAO,CAACgB,OAAO,CAACP,GAAG,CAACM,IAAI,CAACf,OAAO,CAAC;QACjC2B,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B;IACF,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdjB,OAAO,CAACiB,KAAK,CAAC,sBAAsB,CAAC;IACvC;EACF,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACdW,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsB,OAAO,GAAG,CACd;IACEC,KAAK,EAAE,MAAM;IACbC,SAAS,EAAE,MAAM;IACjBC,MAAM,EAAEA,CAACC,IAAI,EAAEb,MAAM,kBACnBlB,OAAA;MAAAgC,QAAA,GACGd,MAAM,CAACe,SAAS,EAAC,GAAC,EAACf,MAAM,CAACgB,QAAQ;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B;EAEV,CAAC,EACD;IACEV,KAAK,EAAE,QAAQ;IACfC,SAAS,EAAE;EACb,CAAC,EACD;IACED,KAAK,EAAE,OAAO;IACdC,SAAS,EAAE;EACb,CAAC,EACD;IACED,KAAK,EAAE,SAAS;IAChBC,SAAS,EAAE,SAAS;IACpBC,MAAM,EAAEA,CAACC,IAAI,EAAEb,MAAM,kBACnBlB,OAAA;MAAKuC,SAAS,EAAC,QAAQ;MAAAP,QAAA,EACpBd,MAAM,CAACC,MAAM,KAAK,SAAS,gBAC1BnB,OAAA;QACEuC,SAAS,EAAC,iBAAiB;QAC3BC,OAAO,EAAEA,CAAA,KAAMvB,mBAAmB,CAACC,MAAM,EAAE,UAAU,CAAE;QAAAc,QAAA,EACxD;MAED;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,gBAETtC,OAAA;QAAQuC,SAAS,EAAC,gBAAgB;QAAAP,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAClD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAET,CAAC,CACF;EAED,oBACEtC,OAAA,CAACL,MAAM;IAAAqC,QAAA,gBACLhC,OAAA;MAAIuC,SAAS,EAAC,iBAAiB;MAAAP,QAAA,EAAC;IAAW;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChDtC,OAAA,CAACF,KAAK;MAAC6B,OAAO,EAAEA,OAAQ;MAACc,UAAU,EAAEtC;IAAQ;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1C,CAAC;AAEb,CAAC;AAACpC,EAAA,CAvFID,OAAO;AAAAyC,EAAA,GAAPzC,OAAO;AAyFb,eAAeA,OAAO;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}