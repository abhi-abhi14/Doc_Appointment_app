{"ast":null,"code":"var _jsxFileName = \"C:\\\\hello\\\\Doctor-appointmnet-system-mern-project-14-final-code\\\\client\\\\src\\\\pages\\\\NotificationPage.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Layout from \"./../components/Layout\";\nimport { message, Tabs } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { showLoading, hideLoading } from \"../redux/features/alertSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useSelector(state => state.user);\n  //   handle read notification\n  const handleMarkAllRead = async () => {\n    try {\n      dispatch(showLoading());\n      const res = await axios.post(\"/api/v1/user/get-all-notification\", {\n        userId: user._id\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      dispatch(hideLoading());\n      if (res.data.success) {\n        message.success(res.data.message);\n      } else {\n        message.error(res.data.message);\n      }\n    } catch (error) {\n      dispatch(hideLoading());\n      console.log(error);\n      message.error(\"somthing went wrong\");\n    }\n  };\n\n  // delete notifications\n  const handleDeleteAllRead = async () => {\n    try {\n      dispatch(showLoading());\n      const res = await axios.post(\"/api/v1/user/delete-all-notification\", {\n        userId: user._id\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      dispatch(hideLoading());\n      if (res.data.success) {\n        message.success(res.data.message);\n      } else {\n        message.error(res.data.message);\n      }\n    } catch (error) {\n      dispatch(hideLoading());\n      console.log(error);\n      message.error(\"Somthing Went Wrong In Ntifications\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"p-3 text-center\",\n      children: \"Notification Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      children: [/*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n        tab: \"unRead\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"p-2\",\n            onClick: handleMarkAllRead,\n            children: \"Mark All Read\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), user === null || user === void 0 ? void 0 : user.notifcation.map(notificationMgs => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            cursor: \"pointer\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-text\",\n            onClick: () => navigate(notificationMgs.onClickPath),\n            children: notificationMgs.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this))]\n      }, 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n        tab: \"Read\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"p-2 text-primary\",\n            style: {\n              cursor: \"pointer\"\n            },\n            onClick: handleDeleteAllRead,\n            children: \"Delete All Read\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), user === null || user === void 0 ? void 0 : user.seennotification.map(notificationMgs => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            cursor: \"pointer\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-text\",\n            onClick: () => navigate(notificationMgs.onClickPath),\n            children: notificationMgs.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this))]\n      }, 1, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationPage, \"xQKbNYgujv2zGlqvj2al8tpAeVI=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = NotificationPage;\nexport default NotificationPage;\nvar _c;\n$RefreshReg$(_c, \"NotificationPage\");","map":{"version":3,"names":["React","Layout","message","Tabs","useSelector","useDispatch","showLoading","hideLoading","useNavigate","axios","jsxDEV","_jsxDEV","NotificationPage","_s","dispatch","navigate","user","state","handleMarkAllRead","res","post","userId","_id","headers","Authorization","localStorage","getItem","data","success","error","console","log","handleDeleteAllRead","children","className","fileName","_jsxFileName","lineNumber","columnNumber","TabPane","tab","onClick","notifcation","map","notificationMgs","style","cursor","onClickPath","seennotification","_c","$RefreshReg$"],"sources":["C:/hello/Doctor-appointmnet-system-mern-project-14-final-code/client/src/pages/NotificationPage.js"],"sourcesContent":["import React from \"react\";\nimport Layout from \"./../components/Layout\";\nimport { message, Tabs } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { showLoading, hideLoading } from \"../redux/features/alertSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst NotificationPage = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { user } = useSelector((state) => state.user);\n  //   handle read notification\n  const handleMarkAllRead = async () => {\n    try {\n      dispatch(showLoading());\n      const res = await axios.post(\n        \"/api/v1/user/get-all-notification\",\n        {\n          userId: user._id,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n      dispatch(hideLoading());\n      if (res.data.success) {\n        message.success(res.data.message);\n      } else {\n        message.error(res.data.message);\n      }\n    } catch (error) {\n      dispatch(hideLoading());\n      console.log(error);\n      message.error(\"somthing went wrong\");\n    }\n  };\n\n  // delete notifications\n  const handleDeleteAllRead = async () => {\n    try {\n      dispatch(showLoading());\n      const res = await axios.post(\n        \"/api/v1/user/delete-all-notification\",\n        { userId: user._id },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n      dispatch(hideLoading());\n      if (res.data.success) {\n        message.success(res.data.message);\n      } else {\n        message.error(res.data.message);\n      }\n    } catch (error) {\n      dispatch(hideLoading());\n      console.log(error);\n      message.error(\"Somthing Went Wrong In Ntifications\");\n    }\n  };\n  return (\n    <Layout>\n      <h4 className=\"p-3 text-center\">Notification Page</h4>\n      <Tabs>\n        <Tabs.TabPane tab=\"unRead\" key={0}>\n          <div className=\"d-flex justify-content-end\">\n            <h4 className=\"p-2\" onClick={handleMarkAllRead}>\n              Mark All Read\n            </h4>\n          </div>\n          {user?.notifcation.map((notificationMgs) => (\n            <div className=\"card\" style={{ cursor: \"pointer\" }}>\n              <div\n                className=\"card-text\"\n                onClick={() => navigate(notificationMgs.onClickPath)}\n              >\n                {notificationMgs.message}\n              </div>\n            </div>\n          ))}\n        </Tabs.TabPane>\n        <Tabs.TabPane tab=\"Read\" key={1}>\n          <div className=\"d-flex justify-content-end\">\n            <h4\n              className=\"p-2 text-primary\"\n              style={{ cursor: \"pointer\" }}\n              onClick={handleDeleteAllRead}\n            >\n              Delete All Read\n            </h4>\n          </div>\n          {user?.seennotification.map((notificationMgs) => (\n            <div className=\"card\" style={{ cursor: \"pointer\" }}>\n              <div\n                className=\"card-text\"\n                onClick={() => navigate(notificationMgs.onClickPath)}\n              >\n                {notificationMgs.message}\n              </div>\n            </div>\n          ))}\n        </Tabs.TabPane>\n      </Tabs>\n    </Layout>\n  );\n};\n\nexport default NotificationPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}